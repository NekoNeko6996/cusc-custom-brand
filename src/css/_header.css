/* =========================
   Include custom header (pure CSS)
   ========================= */
.nav-skip:focus{ z-index:9999; }

header.global-header{
  border:none; padding:0; overflow:visible;
  box-shadow:0px 1px 2px rgba(0,0,0,0.06),0px 1px 3px rgba(0,0,0,0.10);
  background:#fff; border-bottom:0 !important; box-shadow:0 6px 20px rgba(0,0,0,.03);
  position:fixed; top:0; left:0; right:0; z-index:1000;
  backdrop-filter:none !important; -webkit-backdrop-filter:none !important;
  transition:background .25s ease, backdrop-filter .25s ease, box-shadow .25s ease;
}
header.global-header:after{ content:""; clear:both; display:block; }

header.global-header .main-header{
  display:flex; align-items:center; height:50px;
}
@media (min-width:992px){
  header.global-header .main-header{ display:unset; height:auto; }
}

header.global-header .header-logo{ margin:0; }
header.global-header .header-logo a{ margin:15px 0 15px 35px; height:auto; }
@media (min-width:992px){
  header.global-header .header-logo a{ margin:0; margin:20px 0 0; }
}
header.global-header .header-logo a .logo{ height:24px; margin:0; }
header.global-header .header-logo .course-header{ display:none; }

/* Container */
.header-container{ margin:0 auto; padding:0 15px; max-width:1600px; box-sizing:border-box; }
.header-container:after{ display:block; clear:both; content:""; }

/* Nav links */
header.global-header .nav-links{ width:100%; display:flex; align-items:center; justify-content:space-between; gap:12px; }
header.global-header .nav-links .main{ margin:0 0 0 38px; display:flex; align-items:center; gap:18px; }
header.global-header .nav-links .main .nav-tab a{
  font-size:14px; font-weight:500; line-height:22px; padding:20px 0; color:var(--light-dark);
  margin:0 16px 0 0; border-bottom:2px solid transparent;
}
header.global-header .nav-links .main .nav-tab a.active,
header.global-header .nav-links .main .nav-tab a:hover{
  color:var(--dark); border-bottom:2px solid var(--primary);
}
header.global-header .nav-links .secondary{ margin:0; position:relative; justify-content:end; margin-left:auto; display:flex; align-items:center; gap:8px; }

/* User pill */
header.global-header .nav-links .secondary .toggle-user-dropdown{
  padding:9px 15px; background:var(--primary-light); color:var(--primary);
  font-size:14px; font-weight:500; line-height:20px; border-radius:6px; margin:12px 0;
  height:36px; display:inline-flex; align-items:center; justify-content:center; gap:6px;
  border:1.3px solid var(--line,#e5e7eb); box-shadow:none;
}
header.global-header .nav-links .secondary .toggle-user-dropdown:after{
  margin:4px 0 0 4px; border:2px solid #15376D; border-width:2px 2px 0 0; transform:rotate(135deg);
  content:""; height:5px; position:relative; top:-3px; width:5px; display:inline-block; vertical-align:top;
}
header.global-header .nav-links .secondary .toggle-user-dropdown .username{ font:-webkit-control; }

/* Dropdown user menu */
header.global-header .nav-links .secondary .dropdown-user-menu{
  position:absolute; right:0; top:60px; width:224px; border-radius:6px;
  box-shadow:0 0 0 1px rgba(0,0,0,0.05), 0 4px 6px -2px rgba(0,0,0,0.05), 0 10px 15px -3px rgba(0,0,0,0.10);
  border:none; overflow:hidden; margin-top:8px; border:1px solid var(--line,#e5e7eb); border-radius:12px;
  box-shadow:0 20px 40px rgba(0,0,0,.12);
}
header.global-header .nav-links .secondary .dropdown-user-menu .dropdown-item{ border:none !important; }
@media (min-width:992px){
  header.global-header .nav-links .secondary .dropdown-user-menu .dropdown-item.hide-desktop{ display:none; }
}
header.global-header .nav-links .secondary .dropdown-user-menu .dropdown-item a{
  box-sizing:border-box; padding:10px 14px; font-size:14px; line-height:20px; color:var(--txt); display:block;
}
header.global-header .nav-links .secondary .dropdown-user-menu .dropdown-item a:hover{
  background:#F3F6FB; color:var(--cusc-blue);
}

/* Hamburger */
header.global-header .hamburger-menu{ height:17px; width:20px; left:15px; top:18px; background:none; border:0; padding:0; box-shadow:none; }
header.global-header .hamburger-menu .line{ height:2px; }
header.global-header .hamburger-menu .line:nth-child(2),
header.global-header .hamburger-menu .line:nth-child(3){ top:6px; }
header.global-header .hamburger-menu .line:nth-child(4){ top:12px; }

/* Mobile menu */
.mobile-menu{ position:absolute; left:0; top:54px; z-index:9999; margin:0; border:none; border-bottom:2px solid var(--primary); width:100%; }
.mobile-menu .mobile-nav-link a{ font-weight:normal; padding:16px; font-size:14px; line-height:20px; color:var(--light-dark); border:none; display:block; }
.mobile-menu .mobile-nav-link a:hover,
.mobile-menu .mobile-nav-link a.active{ background:var(--primary-light); color:var(--dark); }

/* Theme toggle */
.theme-toggle-button{ position:relative; display:flex; align-items:center; margin-right:0 !important; }
@media (min-width:992px){ .theme-toggle-button{ margin-right:1.5rem !important; } }
.theme-toggle-button .light-theme-icon,
.theme-toggle-button .dark-theme-icon{ width:18px; height:1.5rem; color:var(--primary); }
.theme-toggle-button .light-theme-icon svg,
.theme-toggle-button .dark-theme-icon svg{ width:inherit; height:inherit; }
.theme-toggle-button #toggle-switch{ display:flex; margin:0 5px; }
.theme-toggle-button #toggle-switch label{ margin:0; }
.theme-toggle-button #toggle-switch .switch{ position:relative; display:inline-block; width:45px; height:24px; }
.theme-toggle-button #toggle-switch .switch input{ opacity:0; width:0; height:0; }
.theme-toggle-button #toggle-switch .switch input:focus ~ .slider{ outline:2px solid var(--primary); outline-offset:1px; }
.theme-toggle-button #toggle-switch .switch .slider{ position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background-color:var(--light-theme-switch-bg-color); transition:.4s; }
.theme-toggle-button #toggle-switch .switch .slider::before{ position:absolute; content:""; height:20px; width:20px; left:3px; bottom:2px; background-color:#fff; transition:.4s; }
.theme-toggle-button #toggle-switch .switch .slider.round{ border-radius:34px; }
.theme-toggle-button #toggle-switch .switch .slider.round::before{ border-radius:50%; }

/* Dark theme */
body.indigo-dark-theme{ background:var(--body-bg-d) !important; color:var(--text-color-d) !important; }
body.indigo-dark-theme .window-wrap{ background:var(--body-bg-d); }
body.indigo-dark-theme .mobile-menu{ position:absolute; left:0; top:54px; z-index:9999; margin:0; border:none; border-bottom:2px solid var(--primary); width:100%; }
body.indigo-dark-theme .mobile-menu .mobile-nav-link a{ background:#454545; color:var(--text-color-d); }
body.indigo-dark-theme .mobile-menu .mobile-nav-link a:hover,
body.indigo-dark-theme .mobile-menu .mobile-nav-link a.active{ background:#323232; color:var(--text-color-d); }
body.indigo-dark-theme header.global-header{ background:var(--body-bg-d); box-shadow:0px 1px 2px rgba(255,255,255,0.8), 0px 1px 3px rgba(255,255,255,0.1); }
body.indigo-dark-theme header.global-header .nav-links .main .nav-tab a{ color:var(--text-color-d); }
body.indigo-dark-theme header.global-header .nav-links .main .nav-tab a.active,
body.indigo-dark-theme header.global-header .nav-links .main .nav-tab a:hover{ color:var(--text-color-d); border-bottom:2px solid var(--text-color-d); }
body.indigo-dark-theme header.global-header .nav-links .secondary .toggle-user-dropdown{ background:var(--primary-d); color:var(--btn-color-d); }
body.indigo-dark-theme header.global-header .nav-links .secondary .toggle-user-dropdown:after{ border-color:var(--btn-color-d); }
body.indigo-dark-theme header.global-header .nav-links .secondary .dropdown-user-menu{ background:var(--light-overlay-d); box-shadow:0 0 0 1px rgba(255,255,255,0.8), 0 4px 6px -2px rgba(255,255,255,0.05), 0 10px 15px -3px rgba(255,255,255,0.1); }
body.indigo-dark-theme header.global-header .nav-links .secondary .dropdown-user-menu .dropdown-item a{ color:var(--text-color-primary); background:none; }
body.indigo-dark-theme header.global-header .nav-links .secondary .dropdown-user-menu .dropdown-item a:hover{ background:var(--body-bg-d); color:var(--text-color-d); }
body.indigo-dark-theme header.global-header .hamburger-menu .line{ background:var(--text-color-d); }
body.indigo-dark-theme .theme-toggle-button .light-theme-icon,
body.indigo-dark-theme .theme-toggle-button .dark-theme-icon{ color:var(--text-color-primary); }
body.indigo-dark-theme .theme-toggle-button #toggle-switch .switch input:focus ~ .slider{ outline-color:var(--primary-d); }
body.indigo-dark-theme .theme-toggle-button #toggle-switch .switch .slider{ background-color:var(--dark-theme-switch-bg-color); }
body.indigo-dark-theme .theme-toggle-button #toggle-switch .switch .slider::before{ transform:translateX(19px); box-shadow:0 0 1px var(--primary-d); }

/* CUSC Header (lean & same UI) */
header.global-header .header-container{ width:100%; max-width:none; padding:0; margin:0; }
header.global-header .main-header{ display:flex; align-items:center; justify-content:space-between; gap:var(--gap); min-height:60px; padding:0 var(--h-pad-lg); background:transparent; }

/* Logo block */
header.global-header .header-logo{ margin:0; display:flex !important; align-items:center !important; justify-content:flex-start; gap:30px !important; }
header.global-header .header-logo a{ display:flex !important; align-items:center !important; gap:10px; text-decoration:none; color:inherit; margin:0; }
header.global-header .header-logo .logo{ height:28px; width:auto; display:block; flex:0 0 auto; }
header.global-header .header-logo .brand-text{ font-weight:800; font-size:1.15rem; color:var(--cusc-blue); line-height:2; display:flex; align-items:center; letter-spacing:.2px; transition:color .25s ease, transform .2s ease, text-shadow .25s ease; }
header.global-header .header-logo .brand-link:hover .brand-text{ color:var(--cusc-blue-hover); transform:translateY(-1px); text-shadow:0 2px 6px rgba(0,86,161,.25); }

/* Right cluster */
header.global-header .nav-right{ margin-left:auto; display:flex; align-items:center; gap:var(--gap); }

/* Shared controls */
header.global-header .btn-auth{ display:inline-flex; align-items:center; justify-content:center; height:var(--ctrl-h); padding:0 14px; gap:8px; line-height:1; border-radius:var(--ctrl-radius); border:1.5px solid transparent; text-decoration:none; cursor:pointer; transition:filter .15s ease, background-color .15s ease, border-color .15s ease, color .15s ease, box-shadow .25s ease, transform .25s ease; }
header.global-header .btn-auth svg{ width:16px; height:16px; flex:0 0 auto; display:block; }
header.global-header .btn-auth span{ line-height:1; }
/* Register */
header.global-header .btn-register{ background:transparent; border-color:var(--accent); color:var(--accent); font-weight:800; font-size:15px; }
header.global-header .btn-register:hover{ background:#ECFDF5; border-color:var(--accent-strong); color:var(--accent-strong); box-shadow:0 4px 10px rgba(16,185,129,.25); transform:translateY(-2px); }
header.global-header .btn-register:active{ transform:translateY(0); box-shadow:0 2px 5px rgba(16,185,129,.2); }
/* Sign in */
header.global-header .btn-signin{ background:var(--cusc-blue); border-color:var(--cusc-blue); color:#fff; font-weight:800; font-size:15px; }
header.global-header .btn-signin:hover{ background:var(--cusc-blue-hover); border-color:var(--cusc-blue-hover); box-shadow:0 4px 10px rgba(0,86,161,.3); transform:translateY(-2px); }
header.global-header .btn-signin:active{ transform:translateY(0); box-shadow:0 2px 5px rgba(0,86,161,.25); background:#00498C; }
header.global-header .btn-signin:focus-visible{ outline:2px solid rgba(0,86,161,.5); outline-offset:2px; }

/* sr-only */
.sr-only,.sr{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* Discover (guest) */
header.global-header .nav-discover{ margin-left:var(--discover-gap) !important; font-weight:600; color:var(--txt); text-decoration:none; font-size:15px; position:relative; display:inline-block; transition:color .2s ease, transform .2s ease; }
header.global-header .nav-discover:hover{ color:var(--cusc-blue); transform:translateY(-1px); }
header.global-header .nav-discover::after{ content:""; position:absolute; left:50%; bottom:-4px; height:2px; width:100%; background:linear-gradient(90deg, var(--cusc-blue), var(--accent), var(--cusc-blue)); background-size:200% 100%; opacity:0; transform:translateX(-50%) scaleX(0); transform-origin:center; transition:transform .3s ease, opacity .25s ease; }
header.global-header .nav-discover:hover::after,
header.global-header .nav-discover.active::after{ opacity:1; transform:translateX(-50%) scaleX(1); }

/* Glass on scroll */
header.global-header.scrolled{ background:rgba(255,255,255,0.72) !important; backdrop-filter:saturate(160%) blur(12px) !important; -webkit-backdrop-filter:saturate(160%) blur(12px) !important; box-shadow:0 8px 24px rgba(0,0,0,.08); }
header.global-header.scrolled::after{ content:""; position:absolute; left:0; right:0; bottom:0; height:2px; pointer-events:none; background:linear-gradient(90deg,#0F59C9,#10B981); opacity:.35; }

/* AUTH HEADER ONLY refinements */
header.global-header .nav-links .nav-tab,
header.global-header .nav-links .nav-tab a{ border:0 !important; box-shadow:none !important; background-image:none !important; }
header.global-header .nav-links .nav-tab::before,
header.global-header .nav-links .nav-tab::after{ display:none !important; }

header.global-header .nav-discover-auth{ position:relative; display:inline-flex; align-items:center; margin-left:1.5rem; padding:10px 0; font-size:15px; font-weight:600; line-height:1; color:var(--txt); text-decoration:none; transition:color .2s ease; }
header.global-header .nav-discover-auth:hover{ color:var(--cusc-blue); }
header.global-header .nav-discover-auth::after{ content:""; position:absolute; left:50%; bottom:-6px; height:2px; width:100%; background:linear-gradient(90deg, var(--cusc-blue), var(--accent), var(--cusc-blue)); background-size:200% 100%; opacity:0; transform:translateX(-50%) scaleX(0); transform-origin:center; border-radius:999px; transition:transform .28s ease, opacity .22s ease; }
header.global-header .nav-discover-auth:hover::after,
header.global-header .nav-discover-auth.active::after{ opacity:1; transform:translateX(-50%) scaleX(1); animation:shimmer 1.5s linear infinite; }
@keyframes shimmer{ 0%{background-position:0% 0} 100%{background-position:200% 0} }

/* Discover tab block styles */
header.global-header .nav-tab--discover{ border:0 !important; box-shadow:none !important; padding:0 !important; margin:0 !important; background:transparent !important; }
header.global-header .nav-tab--discover::before,
header.global-header .nav-tab--discover::after{ display:none !important; }
header.global-header .nav-tab--discover>a{ border:0 !important; box-shadow:none !important; background-image:none !important; }
header.global-header .nav-tab--discover .nav-discover{ line-height:1 !important; padding:10px 0 !important; font-size:15px !important; margin-left:1.5rem !important; }
header.global-header .nav-tab--discover .nav-discover::after{ bottom:2px !important; }

/* Tighten heights */
header.global-header .main-header{ min-height:60px !important; height:60px !important; padding-top:0 !important; padding-bottom:0 !important; gap:12px !important; padding-left:24px !important; padding-right:24px !important; }
@media (max-width: 992px){ header.global-header .main-header{ padding-left:16px !important; padding-right:16px !important; } }
header.global-header .header-logo{ gap:20px !important; }
header.global-header .header-logo a{ white-space:nowrap !important; }
header.global-header .header-logo .brand-text{ line-height:1.15 !important; display:inline-flex !important; align-items:center !important; }
header.global-header .nav-links .secondary{ margin-left:auto !important; gap:8px !important; }
header.global-header .toggle-user-dropdown,
header.global-header .nav-links .secondary>a:first-child,
header.global-header .nav-links .secondary>button:first-child{
  height:34px !important; padding:0 10px !important; font-size:14px !important; line-height:1 !important;
  border-radius:8px !important; border:1.3px solid var(--line,#e5e7eb) !important;
  background:#F5F9FF !important; color:var(--cusc-blue,#0056A1) !important;
  display:inline-flex !important; align-items:center !important; justify-content:center !important; gap:6px !important; box-shadow:none !important;
}
header.global-header .toggle-user-dropdown::before,
header.global-header .nav-links .secondary>a:first-child::before,
header.global-header .nav-links .secondary>button:first-child::before{ width:15px !important; height:15px !important; }

/* Discover active (auth) */
header.global-header .nav-tab--discover .nav-discover.active{ color:var(--cusc-blue) !important; font-weight:700 !important; }
header.global-header .nav-tab--discover .nav-discover.active::after{
  opacity:1 !important; transform:translateX(-50%) scaleX(1) !important; animation:none !important;
  background:linear-gradient(90deg,var(--cusc-blue),var(--accent)) !important;
}
